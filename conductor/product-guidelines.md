# 产品设计指南 - AEngine

## 1. 编码规范 (Coding Standards)
- **命名风格**：参考 **Unreal Engine**。
    - 类名使用 `A` (Actor) 或 `U` (Object) 等前缀，结构体使用 `F` 前缀，接口使用 `I` 前缀。
    - 变量使用 `camelCase`，函数使用 `PascalCase`。
- **现代特性**：遵循 **LLVM** 的现代 C++ 标准。
    - 目标标准定位于 **C++20/23**。
    - 积极使用 `Concepts` 定义接口约束，使用 `Coroutines` 处理异步加载，使用 `Modules` 优化编译时间。

## 2. 视觉与交互设计 (UI/UX)
- **视觉风格**：极简主义 (Minimalist)。
    - 界面采用深色主题，扁平化设计，减少视觉噪音，确保开发者专注于渲染内容。
- **编辑器交互**：基于 **ImGui**。
    - 提供紧凑、响应迅速的窗口布局。
    - 支持 Docking 空间管理，允许用户自定义工作区。

## 3. 架构设计原则 (Architectural Principles)
- **错误处理**：现代数据驱动模式。
    - 避免使用 C++ 异常。
    - 使用 `std::expected<T, E>` (或类似实现的 `Result<T, E>`) 作为函数返回值，强制开发者显式处理潜在错误。
- **内存管理**：混合模式 (Hybrid)。
    - **子系统/生命周期管理**：使用 `std::unique_ptr` 和 `std::shared_ptr` (结合 RAII) 确保对象的所有权清晰且安全。
    - **渲染数据/高性能路径**：针对每帧生成的临时资源或频繁分配的对象，使用自定义的 **线性分配器 (Linear Allocator)** 或 **内存池 (Pool Allocator)** 以消除碎片并提升性能。

## 4. 多线程架构
- **逻辑与渲染分离**：逻辑更新 (Update) 与渲染命令生成 (Render) 运行在不同线程。
- **任务驱动**：所有耗时操作必须封装为任务，提交至任务系统异步执行，禁止在主线程进行阻塞操作。
